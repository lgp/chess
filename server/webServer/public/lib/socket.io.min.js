var io="undefined"===typeof module?{}:module.exports;
(function(){var v=this,l="object"===typeof module?module.exports:this.io={};l.version="0.9.11";l.protocol=1;l.transports=[];l.j=[];l.sockets={};l.connect=function(a,c){var d=l.util.parseUri(a),j,b;v&&v.location&&(d.protocol=d.protocol||v.location.protocol.slice(0,-1),d.host=d.host||(v.document?v.document.domain:v.location.hostname),d.port=d.port||v.location.port);j=l.util.uniqueUri(d);var f={host:d.host,secure:"https"==d.protocol,port:d.port||("https"==d.protocol?443:80),query:d.query||""};l.util.merge(f,
c);if(f["force new connection"]||!l.sockets[j])b=new l.Socket(f);!f["force new connection"]&&b&&(l.sockets[j]=b);b=b||l.sockets[j];return b.of(1<d.path.length?d.path:"")};var G=this,e=("undefined"!=typeof io?io:module.exports).util={},R=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,S="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");
e.parseUri=function(a){a=R.exec(a||"");for(var c={},d=14;d--;)c[S[d]]=a[d]||"";return c};e.uniqueUri=function(a){var c=a.protocol,d=a.host;a=a.port;"document"in G?(d=d||document.domain,a=a||("https"==c&&"https:"!==document.location.protocol?443:document.location.port)):(d=d||"localhost",!a&&"https"==c&&(a=443));return(c||"http")+"://"+d+":"+(a||80)};e.query=function(a,c){var d=e.chunkQuery(a||""),j=[];e.merge(d,e.chunkQuery(c||""));for(var b in d)d.hasOwnProperty(b)&&j.push(b+"="+d[b]);return j.length?
"?"+j.join("&"):""};e.chunkQuery=function(a){var c={};a=a.split("&");for(var d=0,j=a.length,b;d<j;++d)b=a[d].split("="),b[0]&&(c[b[0]]=b[1]);return c};var L=!1;e.load=function(a){if("document"in G&&"complete"===document.readyState||L)return a();e.on(G,"load",a,!1)};e.on=function(a,c,d,j){a.attachEvent?a.attachEvent("on"+c,d):a.addEventListener&&a.addEventListener(c,d,j)};e.request=function(a){if(a&&"undefined"!=typeof XDomainRequest&&!e.ua.hasCORS)return new XDomainRequest;if("undefined"!=typeof XMLHttpRequest&&
(!a||e.ua.hasCORS))return new XMLHttpRequest;if(!a)try{return new (window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(c){}return null};"undefined"!=typeof window&&e.load(function(){L=!0});e.defer=function(a){if(!e.ua.webkit||"undefined"!=typeof importScripts)return a();e.load(function(){setTimeout(a,100)})};e.merge=function(a,c,d,j){j=j||[];d="undefined"==typeof d?2:d;for(var b in c)c.hasOwnProperty(b)&&0>e.indexOf(j,b)&&("object"!==typeof a[b]||!d?(a[b]=c[b],j.push(c[b])):
e.merge(a[b],c[b],d-1,j));return a};e.mixin=function(a,c){e.merge(a.prototype,c.prototype)};e.inherit=function(a,c){function d(){}d.prototype=c.prototype;a.prototype=new d};e.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};e.intersect=function(a,c){for(var d=[],j=a.length>c.length?a:c,b=a.length>c.length?c:a,f=0,h=b.length;f<h;f++)~e.indexOf(j,b[f])&&d.push(b[f]);return d};e.indexOf=function(a,c,d){var b=a.length;for(d=0>d?0>d+b?0:d+b:d||0;d<b&&a[d]!==
c;d++);return b<=d?-1:d};e.toArray=function(a){for(var c=[],d=0,b=a.length;d<b;d++)c.push(a[d]);return c};e.ua={};var b=e.ua,A;if(A="undefined"!=typeof XMLHttpRequest)a:{try{var T=new XMLHttpRequest}catch(X){A=!1;break a}A=void 0!=T.withCredentials}b.hasCORS=A;e.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent);e.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent);var B="undefined"!=typeof io?io:module.parent.exports,b=function(){};("undefined"!=
typeof io?io:module.exports).EventEmitter=b;b.prototype.on=function(a,c){this.$events||(this.$events={});this.$events[a]?B.util.isArray(this.$events[a])?this.$events[a].push(c):this.$events[a]=[this.$events[a],c]:this.$events[a]=c;return this};b.prototype.addListener=b.prototype.on;b.prototype.once=function(a,c){function d(){b.removeListener(a,d);c.apply(this,arguments)}var b=this;d.listener=c;this.on(a,d);return this};b.prototype.removeListener=function(a,c){if(this.$events&&this.$events[a]){var d=
this.$events[a];if(B.util.isArray(d)){for(var b=-1,e=0,f=d.length;e<f;e++)if(d[e]===c||d[e].listener&&d[e].listener===c){b=e;break}if(0>b)return this;d.splice(b,1);d.length||delete this.$events[a]}else(d===c||d.listener&&d.listener===c)&&delete this.$events[a]}return this};b.prototype.removeAllListeners=function(a){if(void 0===a)return this.$events={},this;this.$events&&this.$events[a]&&(this.$events[a]=null);return this};b.prototype.listeners=function(a){this.$events||(this.$events={});this.$events[a]||
(this.$events[a]=[]);B.util.isArray(this.$events[a])||(this.$events[a]=[this.$events[a]]);return this.$events[a]};b.prototype.emit=function(a){if(!this.$events)return!1;var c=this.$events[a];if(!c)return!1;var d=Array.prototype.slice.call(arguments,1);if("function"==typeof c)c.apply(this,d);else if(B.util.isArray(c))for(var c=c.slice(),b=0,e=c.length;b<e;b++)c[b].apply(this,d);else return!1;return!0};(function(a,c){function d(a){return 10>a?"0"+a:a}function b(a){g.lastIndex=0;return g.test(a)?'"'+
a.replace(g,function(a){var c=m[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function e(a,c){var f,h,g,m,C=k,q,p=c[a];p instanceof Date&&(p=isFinite(a.valueOf())?a.getUTCFullYear()+"-"+d(a.getUTCMonth()+1)+"-"+d(a.getUTCDate())+"T"+d(a.getUTCHours())+":"+d(a.getUTCMinutes())+":"+d(a.getUTCSeconds())+"Z":null);"function"===typeof n&&(p=n.call(c,a,p));switch(typeof p){case "string":return b(p);case "number":return isFinite(p)?String(p):"null";
case "boolean":case "null":return String(p);case "object":if(!p)return"null";k+=l;q=[];if("[object Array]"===Object.prototype.toString.apply(p)){m=p.length;for(f=0;f<m;f+=1)q[f]=e(f,p)||"null";g=0===q.length?"[]":k?"[\n"+k+q.join(",\n"+k)+"\n"+C+"]":"["+q.join(",")+"]";k=C;return g}if(n&&"object"===typeof n){m=n.length;for(f=0;f<m;f+=1)"string"===typeof n[f]&&(h=n[f],(g=e(h,p))&&q.push(b(h)+(k?": ":":")+g))}else for(h in p)Object.prototype.hasOwnProperty.call(p,h)&&(g=e(h,p))&&q.push(b(h)+(k?": ":
":")+g);g=0===q.length?"{}":k?"{\n"+k+q.join(",\n"+k)+"\n"+C+"}":"{"+q.join(",")+"}";k=C;return g}}if(c&&c.parse)return a.JSON={parse:c.parse,stringify:c.stringify};var f=a.JSON={},h=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,k,l,m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},n;
f.stringify=function(a,c,d){var b;l=k="";if("number"===typeof d)for(b=0;b<d;b+=1)l+=" ";else"string"===typeof d&&(l=d);if((n=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return e("",{"":a})};f.parse=function(a,c){function d(a,b){var j,f,e=a[b];if(e&&"object"===typeof e)for(j in e)Object.prototype.hasOwnProperty.call(e,j)&&(f=d(e,j),void 0!==f?e[j]=f:delete e[j]);return c.call(a,b,e)}var b;a=String(a);h.lastIndex=0;h.test(a)&&(a=a.replace(h,
function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return b=eval("("+a+")"),"function"===typeof c?d({"":b},""):b;throw new SyntaxError("JSON.parse");}})("undefined"!=typeof io?io:module.exports,"undefined"!==typeof JSON?JSON:void 0);var b="undefined"!=typeof io?io:module.parent.exports,
r=("undefined"!=typeof io?io:module.exports).parser={},M=r.packets="disconnect connect heartbeat message json event ack error noop".split(" "),N=r.reasons=["transport not supported","client not handshaken","unauthorized"],O=r.advice=["reconnect"],w=b.JSON,H=b.util.indexOf;r.encodePacket=function(a){var c=H(M,a.type),d=a.id||"",b=a.endpoint||"",e=a.ack,f=null;switch(a.type){case "error":var h=a.reason?H(N,a.reason):"";a=a.advice?H(O,a.advice):"";if(""!==h||""!==a)f=h+(""!==a?"+"+a:"");break;case "message":""!==
a.data&&(f=a.data);break;case "event":f={name:a.name};a.args&&a.args.length&&(f.args=a.args);f=w.stringify(f);break;case "json":f=w.stringify(a.data);break;case "connect":a.qs&&(f=a.qs);break;case "ack":f=a.ackId+(a.args&&a.args.length?"+"+w.stringify(a.args):"")}c=[c,d+("data"==e?"+":""),b];null!==f&&void 0!==f&&c.push(f);return c.join(":")};r.encodePayload=function(a){var c="";if(1==a.length)return a[0];for(var d=0,b=a.length;d<b;d++)c+="\ufffd"+a[d].length+"\ufffd"+a[d];return c};var U=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;
r.decodePacket=function(a){var c=a.match(U);if(!c)return{};var d=c[2]||"";a=c[5]||"";var b={type:M[c[1]],endpoint:c[4]||""};d&&(b.id=d,b.ack=c[3]?"data":!0);switch(b.type){case "error":c=a.split("+");b.reason=N[c[0]]||"";b.advice=O[c[1]]||"";break;case "message":b.data=a||"";break;case "event":try{var e=w.parse(a);b.name=e.name;b.args=e.args}catch(f){}b.args=b.args||[];break;case "json":try{b.data=w.parse(a)}catch(h){}break;case "connect":b.qs=a||"";break;case "ack":if(c=a.match(/^([0-9]+)(\+)?(.*)/))if(b.ackId=
c[1],b.args=[],c[3])try{b.args=c[3]?w.parse(c[3]):[]}catch(g){}}return b};r.decodePayload=function(a){if("\ufffd"==a.charAt(0)){for(var c=[],d=1,b="";d<a.length;d++)"\ufffd"==a.charAt(d)?(c.push(r.decodePacket(a.substr(d+1).substr(0,b))),d+=Number(b)+1,b=""):b+=a.charAt(d);return c}return[r.decodePacket(a)]};var y="undefined"!=typeof io?io:module.parent.exports,b=function(a,c){this.socket=a;this.sessid=c};("undefined"!=typeof io?io:module.exports).Transport=b;y.util.mixin(b,y.EventEmitter);b.prototype.heartbeats=
function(){return!0};b.prototype.onData=function(a){this.clearCloseTimeout();(this.socket.connected||this.socket.connecting||this.socket.reconnecting)&&this.setCloseTimeout();if(""!==a&&(a=y.parser.decodePayload(a))&&a.length)for(var c=0,d=a.length;c<d;c++)this.onPacket(a[c]);return this};b.prototype.onPacket=function(a){this.socket.setHeartbeatTimeout();if("heartbeat"==a.type)return this.onHeartbeat();if("connect"==a.type&&""==a.endpoint)this.onConnect();"error"==a.type&&"reconnect"==a.advice&&(this.isOpen=
!1);this.socket.onPacket(a);return this};b.prototype.setCloseTimeout=function(){if(!this.closeTimeout){var a=this;this.closeTimeout=setTimeout(function(){a.onDisconnect()},this.socket.closeTimeout)}};b.prototype.onDisconnect=function(){this.isOpen&&this.close();this.clearTimeouts();this.socket.onDisconnect();return this};b.prototype.onConnect=function(){this.socket.onConnect();return this};b.prototype.clearCloseTimeout=function(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=
null)};b.prototype.clearTimeouts=function(){this.clearCloseTimeout();this.reopenTimeout&&clearTimeout(this.reopenTimeout)};b.prototype.packet=function(a){this.send(y.parser.encodePacket(a))};b.prototype.onHeartbeat=function(){this.packet({type:"heartbeat"})};b.prototype.onOpen=function(){this.isOpen=!0;this.clearCloseTimeout();this.socket.onOpen()};b.prototype.onClose=function(){this.isOpen=!1;this.socket.onClose();this.onDisconnect()};b.prototype.prepareUrl=function(){var a=this.socket.options;return this.scheme()+
"://"+a.host+":"+a.port+"/"+a.resource+"/"+y.protocol+"/"+this.name+"/"+this.sessid};b.prototype.ready=function(a,c){c.call(this)};var g="undefined"!=typeof io?io:module.parent.exports,z=this,b=function(a){this.options={port:80,secure:!1,document:"document"in z?document:!1,resource:"socket.io",transports:g.transports,"connect timeout":1E4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":Infinity,"reopen delay":3E3,"max reconnection attempts":10,"sync disconnect on unload":!1,
"auto connect":!0,"flash policy port":10843,manualFlush:!1};g.util.merge(this.options,a);this.reconnecting=this.connecting=this.open=this.connected=!1;this.namespaces={};this.buffer=[];this.doBuffer=!1;if(this.options["sync disconnect on unload"]&&(!this.isXDomain()||g.util.ua.hasCORS)){var c=this;g.util.on(z,"beforeunload",function(){c.disconnectSync()},!1)}this.options["auto connect"]&&this.connect()},V=function(){};("undefined"!=typeof io?io:module.exports).Socket=b;g.util.mixin(b,g.EventEmitter);
b.prototype.of=function(a){this.namespaces[a]||(this.namespaces[a]=new g.SocketNamespace(this,a),""!==a&&this.namespaces[a].packet({type:"connect"}));return this.namespaces[a]};b.prototype.publish=function(){this.emit.apply(this,arguments);var a,c;for(c in this.namespaces)this.namespaces.hasOwnProperty(c)&&(a=this.of(c),a.$emit.apply(a,arguments))};b.prototype.handshake=function(a){function c(c){c instanceof Error?(d.connecting=!1,d.onError(c.message)):a.apply(null,c.split(":"))}var d=this,b=this.options,
b=["http"+(b.secure?"s":"")+":/",b.host+":"+b.port,b.resource,g.protocol,g.util.query(this.options.query,"t="+ +new Date)].join("/");if(this.isXDomain()&&!g.util.ua.hasCORS){var e=document.getElementsByTagName("script")[0],f=document.createElement("script");f.src=b+"&jsonp="+g.j.length;e.parentNode.insertBefore(f,e);g.j.push(function(a){c(a);f.parentNode.removeChild(f)})}else{var h=g.util.request();h.open("GET",b,!0);this.isXDomain()&&(h.withCredentials=!0);h.onreadystatechange=function(){if(4==h.readyState)if(h.onreadystatechange=
V,200==h.status)c(h.responseText);else if(403==h.status)d.onError(h.responseText);else d.connecting=!1,!d.reconnecting&&d.onError(h.responseText)};h.send(null)}};b.prototype.getTransport=function(a){a=a||this.transports;for(var c=0,d;d=a[c];c++)if(g.Transport[d]&&g.Transport[d].check(this)&&(!this.isXDomain()||g.Transport[d].xdomainCheck(this)))return new g.Transport[d](this,this.sessionid);return null};b.prototype.connect=function(a){if(this.connecting)return this;var c=this;c.connecting=!0;this.handshake(function(d,
b,e,f){function h(a){c.transport&&c.transport.clearTimeouts();c.transport=c.getTransport(a);if(!c.transport)return c.publish("connect_failed");c.transport.ready(c,function(){c.connecting=!0;c.publish("connecting",c.transport.name);c.transport.open();c.options["connect timeout"]&&(c.connectTimeoutTimer=setTimeout(function(){if(!c.connected&&(c.connecting=!1,c.options["try multiple transports"])){for(var a=c.transports;0<a.length&&a.splice(0,1)[0]!=c.transport.name;);a.length?h(a):c.publish("connect_failed")}},
c.options["connect timeout"]))})}c.sessionid=d;c.closeTimeout=1E3*e;c.heartbeatTimeout=1E3*b;c.transports||(c.transports=c.origTransports=f?g.util.intersect(f.split(","),c.options.transports):c.options.transports);c.setHeartbeatTimeout();h(c.transports);c.once("connect",function(){clearTimeout(c.connectTimeoutTimer);a&&"function"==typeof a&&a()})});return this};b.prototype.setHeartbeatTimeout=function(){clearTimeout(this.heartbeatTimeoutTimer);if(!this.transport||this.transport.heartbeats()){var a=
this;this.heartbeatTimeoutTimer=setTimeout(function(){a.transport.onClose()},this.heartbeatTimeout)}};b.prototype.packet=function(a){this.connected&&!this.doBuffer?this.transport.packet(a):this.buffer.push(a);return this};b.prototype.setBuffer=function(a){this.doBuffer=a;!a&&(this.connected&&this.buffer.length)&&(this.options.manualFlush||this.flushBuffer())};b.prototype.flushBuffer=function(){this.transport.payload(this.buffer);this.buffer=[]};b.prototype.disconnect=function(){if(this.connected||
this.connecting)this.open&&this.of("").packet({type:"disconnect"}),this.onDisconnect("booted");return this};b.prototype.disconnectSync=function(){var a=g.util.request(),c=["http"+(this.options.secure?"s":"")+":/",this.options.host+":"+this.options.port,this.options.resource,g.protocol,"",this.sessionid].join("/")+"/?disconnect=1";a.open("GET",c,!1);a.send(null);this.onDisconnect("booted")};b.prototype.isXDomain=function(){var a=z.location.port||("https:"==z.location.protocol?443:80);return this.options.host!==
z.location.hostname||this.options.port!=a};b.prototype.onConnect=function(){this.connected||(this.connected=!0,this.connecting=!1,this.doBuffer||this.setBuffer(!1),this.emit("connect"))};b.prototype.onOpen=function(){this.open=!0};b.prototype.onClose=function(){this.open=!1;clearTimeout(this.heartbeatTimeoutTimer)};b.prototype.onPacket=function(a){this.of(a.endpoint).onPacket(a)};b.prototype.onError=function(a){if(a&&a.advice&&"reconnect"===a.advice&&(this.connected||this.connecting))this.disconnect(),
this.options.reconnect&&this.reconnect();this.publish("error",a&&a.reason?a.reason:a)};b.prototype.onDisconnect=function(a){var c=this.connected,d=this.connecting;this.open=this.connecting=this.connected=!1;if(c||d)this.transport.close(),this.transport.clearTimeouts(),c&&(this.publish("disconnect",a),"booted"!=a&&(this.options.reconnect&&!this.reconnecting)&&this.reconnect())};b.prototype.reconnect=function(){function a(){if(d.connected){for(var a in d.namespaces)d.namespaces.hasOwnProperty(a)&&""!==
a&&d.namespaces[a].packet({type:"connect"});d.publish("reconnect",d.transport.name,d.reconnectionAttempts)}clearTimeout(d.reconnectionTimer);d.removeListener("connect_failed",c);d.removeListener("connect",c);d.reconnecting=!1;delete d.reconnectionAttempts;delete d.reconnectionDelay;delete d.reconnectionTimer;delete d.redoTransports;d.options["try multiple transports"]=e}function c(){if(d.reconnecting){if(d.connected)return a();if(d.connecting&&d.reconnecting)return d.reconnectionTimer=setTimeout(c,
1E3);d.reconnectionAttempts++>=b?d.redoTransports?(d.publish("reconnect_failed"),a()):(d.on("connect_failed",c),d.options["try multiple transports"]=!0,d.transports=d.origTransports,d.transport=d.getTransport(),d.redoTransports=!0,d.connect()):(d.reconnectionDelay<f&&(d.reconnectionDelay*=2),d.connect(),d.publish("reconnecting",d.reconnectionDelay,d.reconnectionAttempts),d.reconnectionTimer=setTimeout(c,d.reconnectionDelay))}}this.reconnecting=!0;this.reconnectionAttempts=0;this.reconnectionDelay=
this.options["reconnection delay"];var d=this,b=this.options["max reconnection attempts"],e=this.options["try multiple transports"],f=this.options["reconnection limit"];this.options["try multiple transports"]=!1;this.reconnectionTimer=setTimeout(c,this.reconnectionDelay);this.on("connect",c)};var D="undefined"!=typeof io?io:module.parent.exports,b=function(a,c){this.socket=a;this.name=c||"";this.flags={};this.json=new I(this,"json");this.ackPackets=0;this.acks={}},I=function(a,c){this.namespace=a;
this.name=c};("undefined"!=typeof io?io:module.exports).SocketNamespace=b;D.util.mixin(b,D.EventEmitter);b.prototype.$emit=D.EventEmitter.prototype.emit;b.prototype.of=function(){return this.socket.of.apply(this.socket,arguments)};b.prototype.packet=function(a){a.endpoint=this.name;this.socket.packet(a);this.flags={};return this};b.prototype.send=function(a,c){var d={type:this.flags.json?"json":"message",data:a};"function"==typeof c&&(d.id=++this.ackPackets,d.ack=!0,this.acks[d.id]=c);return this.packet(d)};
b.prototype.emit=function(a){var c=Array.prototype.slice.call(arguments,1),d=c[c.length-1],b={type:"event",name:a};"function"==typeof d&&(b.id=++this.ackPackets,b.ack="data",this.acks[b.id]=d,c=c.slice(0,c.length-1));b.args=c;return this.packet(b)};b.prototype.disconnect=function(){""===this.name?this.socket.disconnect():(this.packet({type:"disconnect"}),this.$emit("disconnect"));return this};b.prototype.onPacket=function(a){function c(){d.packet({type:"ack",args:D.util.toArray(arguments),ackId:a.id})}
var d=this;switch(a.type){case "connect":this.$emit("connect");break;case "disconnect":if(""===this.name)this.socket.onDisconnect(a.reason||"booted");else this.$emit("disconnect",a.reason);break;case "message":case "json":var b=["message",a.data];"data"==a.ack?b.push(c):a.ack&&this.packet({type:"ack",ackId:a.id});this.$emit.apply(this,b);break;case "event":b=[a.name].concat(a.args);"data"==a.ack&&b.push(c);this.$emit.apply(this,b);break;case "ack":this.acks[a.ackId]&&(this.acks[a.ackId].apply(this,
a.args),delete this.acks[a.ackId]);break;case "error":if(a.advice)this.socket.onError(a);else"unauthorized"==a.reason?this.$emit("connect_failed",a.reason):this.$emit("error",a.reason)}};I.prototype.send=function(){this.namespace.flags[this.name]=!0;this.namespace.send.apply(this.namespace,arguments)};I.prototype.emit=function(){this.namespace.flags[this.name]=!0;this.namespace.emit.apply(this.namespace,arguments)};var x="undefined"!=typeof io?io:module.parent.exports,E=this,b=function(a){x.Transport.apply(this,
arguments)};("undefined"!=typeof io?io.Transport:module.exports).websocket=b;x.util.inherit(b,x.Transport);b.prototype.name="websocket";b.prototype.open=function(){var a=x.util.query(this.socket.options.query),c=this,d;d||(d=E.MozWebSocket||E.WebSocket);this.websocket=new d(this.prepareUrl()+a);this.websocket.onopen=function(){c.onOpen();c.socket.setBuffer(!1)};this.websocket.onmessage=function(a){c.onData(a.data)};this.websocket.onclose=function(){c.onClose();c.socket.setBuffer(!0)};this.websocket.onerror=
function(a){c.onError(a)};return this};b.prototype.send=x.util.ua.iDevice?function(a){var c=this;setTimeout(function(){c.websocket.send(a)},0);return this}:function(a){this.websocket.send(a);return this};b.prototype.payload=function(a){for(var c=0,d=a.length;c<d;c++)this.packet(a[c]);return this};b.prototype.close=function(){this.websocket.close();return this};b.prototype.onError=function(a){this.socket.onError(a)};b.prototype.scheme=function(){return this.socket.options.secure?"wss":"ws"};b.check=
function(){return"WebSocket"in E&&!("__addTask"in WebSocket)||"MozWebSocket"in E};b.xdomainCheck=function(){return!0};x.transports.push("websocket");var t="undefined"!=typeof io?io:module.parent.exports,F=this,m=function(a){a&&(t.Transport.apply(this,arguments),this.sendBuffer=[])},P=function(){};("undefined"!=typeof io?io.Transport:module.exports).XHR=m;t.util.inherit(m,t.Transport);m.prototype.open=function(){this.socket.setBuffer(!1);this.onOpen();this.get();this.setCloseTimeout();return this};
m.prototype.payload=function(a){for(var c=[],d=0,b=a.length;d<b;d++)c.push(t.parser.encodePacket(a[d]));this.send(t.parser.encodePayload(c))};m.prototype.send=function(a){this.post(a);return this};m.prototype.post=function(a){function c(){if(4==this.readyState)if(this.onreadystatechange=P,e.posting=!1,200==this.status)e.socket.setBuffer(!1);else e.onClose()}function b(){this.onload=P;e.socket.setBuffer(!1)}var e=this;this.socket.setBuffer(!0);this.sendXHR=this.request("POST");F.XDomainRequest&&this.sendXHR instanceof
XDomainRequest?this.sendXHR.onload=this.sendXHR.onerror=b:this.sendXHR.onreadystatechange=c;this.sendXHR.send(a)};m.prototype.close=function(){this.onClose();return this};m.prototype.request=function(a){var c=t.util.request(this.socket.isXDomain()),b=t.util.query(this.socket.options.query,"t="+ +new Date);c.open(a||"GET",this.prepareUrl()+b,!0);if("POST"==a)try{c.setRequestHeader?c.setRequestHeader("Content-type","text/plain;charset=UTF-8"):c.contentType="text/plain"}catch(e){}return c};m.prototype.scheme=
function(){return this.socket.options.secure?"https":"http"};m.check=function(a,c){try{var b=t.util.request(c),e=F.XDomainRequest&&b instanceof XDomainRequest,g=a&&a.options&&a.options.secure?"https:":"http:",f=F.location&&g!=F.location.protocol;if(b&&(!e||!f))return!0}catch(h){}return!1};m.xdomainCheck=function(a){return m.check(a,!0)};var u="undefined"!=typeof io?io:module.parent.exports,b=function(a){u.Transport.XHR.apply(this,arguments)};("undefined"!=typeof io?io.Transport:module.exports).htmlfile=
b;u.util.inherit(b,u.Transport.XHR);b.prototype.name="htmlfile";b.prototype.get=function(){this.doc=new (window[["Active"].concat("Object").join("X")])("htmlfile");this.doc.open();this.doc.write("<html></html>");this.doc.close();this.doc.parentWindow.s=this;var a=this.doc.createElement("div");a.className="socketio";this.doc.body.appendChild(a);this.iframe=this.doc.createElement("iframe");a.appendChild(this.iframe);var c=this,a=u.util.query(this.socket.options.query,"t="+ +new Date);this.iframe.src=
this.prepareUrl()+a;u.util.on(window,"unload",function(){c.destroy()})};b.prototype._=function(a,c){this.onData(a);try{var b=c.getElementsByTagName("script")[0];b.parentNode.removeChild(b)}catch(e){}};b.prototype.destroy=function(){if(this.iframe){try{this.iframe.src="about:blank"}catch(a){}this.doc=null;this.iframe.parentNode.removeChild(this.iframe);this.iframe=null;CollectGarbage()}};b.prototype.close=function(){this.destroy();return u.Transport.XHR.prototype.close.call(this)};b.check=function(a){if("undefined"!=
typeof window&&["Active"].concat("Object").join("X")in window)try{return new (window[["Active"].concat("Object").join("X")])("htmlfile")&&u.Transport.XHR.check(a)}catch(c){}return!1};b.xdomainCheck=function(){return!1};u.transports.push("htmlfile");var s="undefined"!=typeof io?io:module.parent.exports,W=this,b=function(){s.Transport.XHR.apply(this,arguments)},J=function(){};("undefined"!=typeof io?io.Transport:module.exports)["xhr-polling"]=b;s.util.inherit(b,s.Transport.XHR);s.util.merge(b,s.Transport.XHR);
b.prototype.name="xhr-polling";b.prototype.heartbeats=function(){return!1};b.prototype.open=function(){s.Transport.XHR.prototype.open.call(this);return!1};b.prototype.get=function(){function a(){if(4==this.readyState)if(this.onreadystatechange=J,200==this.status)e.onData(this.responseText),e.get();else e.onClose()}function c(){this.onerror=this.onload=J;e.retryCounter=1;e.onData(this.responseText);e.get()}function b(){e.retryCounter++;if(!e.retryCounter||3<e.retryCounter)e.onClose();else e.get()}
if(this.isOpen){var e=this;this.xhr=this.request();W.XDomainRequest&&this.xhr instanceof XDomainRequest?(this.xhr.onload=c,this.xhr.onerror=b):this.xhr.onreadystatechange=a;this.xhr.send(null)}};b.prototype.onClose=function(){s.Transport.XHR.prototype.onClose.call(this);if(this.xhr){this.xhr.onreadystatechange=this.xhr.onload=this.xhr.onerror=J;try{this.xhr.abort()}catch(a){}this.xhr=null}};b.prototype.ready=function(a,c){var b=this;s.util.defer(function(){c.call(b)})};s.transports.push("xhr-polling");
var n="undefined"!=typeof io?io:module.parent.exports,K=this,b=function(a){n.Transport["xhr-polling"].apply(this,arguments);this.index=n.j.length;var c=this;n.j.push(function(a){c._(a)})},Q=K.document&&"MozAppearance"in K.document.documentElement.style;("undefined"!=typeof io?io.Transport:module.exports)["jsonp-polling"]=b;n.util.inherit(b,n.Transport["xhr-polling"]);b.prototype.name="jsonp-polling";b.prototype.post=function(a){function c(){b();e.socket.setBuffer(!1)}function b(){e.iframe&&e.form.removeChild(e.iframe);
try{k=document.createElement('<iframe name="'+e.iframeId+'">')}catch(a){k=document.createElement("iframe"),k.name=e.iframeId}k.id=e.iframeId;e.form.appendChild(k);e.iframe=k}var e=this,g=n.util.query(this.socket.options.query,"t="+ +new Date+"&i="+this.index);if(!this.form){var f=document.createElement("form"),h=document.createElement("textarea"),l=this.iframeId="socketio_iframe_"+this.index,k;f.className="socketio";f.style.position="absolute";f.style.top="0px";f.style.left="0px";f.style.display=
"none";f.target=l;f.method="POST";f.setAttribute("accept-charset","utf-8");h.name="d";f.appendChild(h);document.body.appendChild(f);this.form=f;this.area=h}this.form.action=this.prepareUrl()+g;b();this.area.value=n.JSON.stringify(a);try{this.form.submit()}catch(m){}this.iframe.attachEvent?k.onreadystatechange=function(){"complete"==e.iframe.readyState&&c()}:this.iframe.onload=c;this.socket.setBuffer(!0)};b.prototype.get=function(){var a=this,c=document.createElement("script"),b=n.util.query(this.socket.options.query,
"t="+ +new Date+"&i="+this.index);this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);c.async=!0;c.src=this.prepareUrl()+b;c.onerror=function(){a.onClose()};b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(c,b);this.script=c;Q&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},100)};b.prototype._=function(a){this.onData(a);this.isOpen&&this.get();return this};b.prototype.ready=function(a,
b){var d=this;if(!Q)return b.call(this);n.util.load(function(){b.call(d)})};b.check=function(){return"document"in K};b.xdomainCheck=function(){return!0};n.transports.push("jsonp-polling");"function"===typeof define&&define.amd&&define([],function(){return io})})();